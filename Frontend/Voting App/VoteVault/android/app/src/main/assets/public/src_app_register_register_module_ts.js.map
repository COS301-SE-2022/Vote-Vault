{"version":3,"file":"src_app_register_register_module_ts.js","mappings":"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","sources":["./src/app/register/register-routing.module.ts","./src/app/register/register.module.ts","./src/app/register/register.page.ts","./node_modules/@angular/common/fesm2015/testing.mjs","./node_modules/@angular/router/fesm2015/testing.mjs"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegisterPage } from './register.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegisterPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegisterPageRoutingModule } from './register-routing.module';\r\n\r\nimport { RegisterPage } from './register.page';\r\n\r\nimport { RouterTestingModule } from '@angular/router/testing';\r\nimport { FirestoreModule } from '@angular/fire/firestore';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RegisterPageRoutingModule,\r\n    RouterTestingModule.withRoutes([])\r\n  ],\r\n  declarations: [RegisterPage]\r\n})\r\nexport class RegisterPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Location } from \"@angular/common\";\r\nimport { DataService, Voter } from '../data.service';\r\nimport { ContractService } from '../services/contract.service';\r\nimport { BarcodeScanner,BarcodeScannerOptions } from '@ionic-native/barcode-scanner/ngx';\r\nimport { LoadingController, ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.page.html',\r\n  styleUrls: ['./register.page.scss'],\r\n})\r\nexport class RegisterPage implements OnInit {\r\n  name: string;\r\n  surname: string;\r\n  gender: any;\r\n  idNum: string;\r\n  voterNames: any[];\r\n  voterSurnames: any[];\r\n  voterIDs: any[];\r\n  scannedData: any;\r\n  encodedData: '';\r\n  encodeData: any;\r\n  inputData: any;\r\n  voter: Voter;\r\n\r\n  constructor(private loadingController : LoadingController, private toastController : ToastController, private contractService : ContractService, private router: Router, private barcodeScanner: BarcodeScanner, private dataservice: DataService) { }\r\n\r\n  ngOnInit() {\r\n    this.voterIDs = [];\r\n    this.voterNames = [];\r\n    this.voterSurnames = [];\r\n    // console.log(this.dataservice.contractAddress)\r\n  }\r\n\r\n  async registerVoter() {\r\n\r\n    // const first = this.voterIDs.find((obj) => obj === nVoter.id);\r\n    // if (first != null) {\r\n    //   alert('The entered ID is already registered with a voter.');\r\n    //   return;\r\n    // }\r\n    // this.voterNames.push(nVoter.name);\r\n    // this.voterSurnames.push(nVoter.surname);\r\n    // this.voterIDs.push(nVoter.id);\r\n    // alert(this.voter)\r\n    this.presentLoading()\r\n    if (await this.dataservice.checkVoters(this.idNum) == false) {\r\n      alert('Not registered!');\r\n      try {\r\n        await this.dataservice.addvoter(this.voter)\r\n        .then(async () =>  {\r\n          await this.contractService.addVoter(this.dataservice.contractAddress, this.voter)\r\n          .then(()  =>  {\r\n            // alert('Successfully registered!');\r\n            this.presentToast('Successfully registered ' + this.voter.birthName + \", \" + this.voter.IDnum)\r\n            this.loadingController.dismiss()\r\n            this.router.navigate(['admin-dashboard'])\r\n          })\r\n        }).catch((error)  =>  {\r\n          this.presentToast('Error registering')\r\n          this.loadingController.dismiss()\r\n          console.error(error)\r\n        })\r\n      } catch (err) {\r\n        alert(err);\r\n      }\r\n    } else {\r\n      alert('Already registered voter!');\r\n      if (await this.dataservice.checkVoted(this.voter) == true) {\r\n        alert('Already voted!');\r\n        this.router.navigate(['voter-dashboard']);\r\n      } else {\r\n        alert('Not yet voted!');\r\n        try {\r\n          await this.dataservice.vote(this.voter);\r\n        } finally {\r\n          this.router.navigate(['login']);\r\n        }\r\n      }\r\n    }\r\n\r\n    this.name = '';\r\n    this.surname = '';\r\n    this.idNum = '';\r\n    this.gender = '';\r\n\r\n    document.getElementById(\"regnowbutton\").style.display = \"none\";\r\n  }\r\n\r\n  openCustom() {\r\n    alert('here');\r\n    this.router.navigate(['voter-dashboard']);\r\n  }\r\n\r\n  scanBarcode() {\r\n    const options: BarcodeScannerOptions = {\r\n      preferFrontCamera: false,\r\n      showFlipCameraButton: true,\r\n      showTorchButton: true,\r\n      torchOn: false,\r\n      prompt: 'Place a barcode inside the scan area',\r\n      resultDisplayDuration: 500,\r\n      formats: 'PDF_417',\r\n      orientation: 'landscape',\r\n    };\r\n\r\n    this.barcodeScanner.scan(options).then(barcodeData => {\r\n      this.scannedData = barcodeData;\r\n      this.inputData = this.scannedData[\"text\"];\r\n\r\n      var splitted = this.inputData.split(\"|\");\r\n      this.surname = splitted[0];\r\n      this.name = splitted[1];\r\n      this.gender = splitted[2];\r\n      this.idNum = splitted[4]\r\n\r\n      this.voter = this.dataservice.createVoter(this.name, this.surname, this.idNum, this.gender);\r\n\r\n      // alert(this.voter.birthName)\r\n\r\n      document.getElementById(\"regnowbutton\").style.display = \"block\";\r\n    }).catch(err => {\r\n      console.log('Error', err);\r\n    });\r\n  }\r\n\r\n  async presentToast(message) {\r\n    const toast = await this.toastController.create({\r\n      duration: 800,\r\n      message: message,\r\n      color: 'light',\r\n      mode: 'ios'\r\n    });\r\n\r\n    await toast.present();\r\n  }\r\n\r\n  async presentLoading() {\r\n    const loading = await this.loadingController.create({\r\n      cssClass: 'my-custom-class',\r\n      message: 'Please wait...',\r\n      duration: 30000\r\n    });\r\n    await loading.present();\r\n\r\n    const { role, data } = await loading.onDidDismiss();\r\n    console.log('Loading dismissed!');\r\n  }\r\n}\r\n","/**\n * @license Angular v13.2.7\n * (c) 2010-2022 Google LLC. https://angular.io/\n * License: MIT\n */\n\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Injectable, InjectionToken, Inject, Optional } from '@angular/core';\nimport { LocationStrategy } from '@angular/common';\nimport { Subject } from 'rxjs';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Joins two parts of a URL with a slash if needed.\n *\n * @param start  URL string\n * @param end    URL string\n *\n *\n * @returns The joined URL string.\n */\nfunction joinWithSlash(start, end) {\n    if (start.length == 0) {\n        return end;\n    }\n    if (end.length == 0) {\n        return start;\n    }\n    let slashes = 0;\n    if (start.endsWith('/')) {\n        slashes++;\n    }\n    if (end.startsWith('/')) {\n        slashes++;\n    }\n    if (slashes == 2) {\n        return start + end.substring(1);\n    }\n    if (slashes == 1) {\n        return start + end;\n    }\n    return start + '/' + end;\n}\n/**\n * Removes a trailing slash from a URL string if needed.\n * Looks for the first occurrence of either `#`, `?`, or the end of the\n * line as `/` characters and removes the trailing slash if one exists.\n *\n * @param url URL string.\n *\n * @returns The URL string, modified if needed.\n */\nfunction stripTrailingSlash(url) {\n    const match = url.match(/#|\\?|$/);\n    const pathEndIdx = match && match.index || url.length;\n    const droppedSlashIdx = pathEndIdx - (url[pathEndIdx - 1] === '/' ? 1 : 0);\n    return url.slice(0, droppedSlashIdx) + url.slice(pathEndIdx);\n}\n/**\n * Normalizes URL parameters by prepending with `?` if needed.\n *\n * @param  params String of URL parameters.\n *\n * @returns The normalized URL parameters string.\n */\nfunction normalizeQueryParams(params) {\n    return params && params[0] !== '?' ? '?' + params : params;\n}\n\n/**\n * A spy for {@link Location} that allows tests to fire simulated location events.\n *\n * @publicApi\n */\nclass SpyLocation {\n    constructor() {\n        this.urlChanges = [];\n        this._history = [new LocationState('', '', null)];\n        this._historyIndex = 0;\n        /** @internal */\n        this._subject = new EventEmitter();\n        /** @internal */\n        this._baseHref = '';\n        /** @internal */\n        this._platformStrategy = null;\n        /** @internal */\n        this._platformLocation = null;\n        /** @internal */\n        this._urlChangeListeners = [];\n    }\n    setInitialPath(url) {\n        this._history[this._historyIndex].path = url;\n    }\n    setBaseHref(url) {\n        this._baseHref = url;\n    }\n    path() {\n        return this._history[this._historyIndex].path;\n    }\n    getState() {\n        return this._history[this._historyIndex].state;\n    }\n    isCurrentPathEqualTo(path, query = '') {\n        const givenPath = path.endsWith('/') ? path.substring(0, path.length - 1) : path;\n        const currPath = this.path().endsWith('/') ? this.path().substring(0, this.path().length - 1) : this.path();\n        return currPath == givenPath + (query.length > 0 ? ('?' + query) : '');\n    }\n    simulateUrlPop(pathname) {\n        this._subject.emit({ 'url': pathname, 'pop': true, 'type': 'popstate' });\n    }\n    simulateHashChange(pathname) {\n        const path = this.prepareExternalUrl(pathname);\n        this.pushHistory(path, '', null);\n        this.urlChanges.push('hash: ' + pathname);\n        // the browser will automatically fire popstate event before each `hashchange` event, so we need\n        // to simulate it.\n        this._subject.emit({ 'url': pathname, 'pop': true, 'type': 'popstate' });\n        this._subject.emit({ 'url': pathname, 'pop': true, 'type': 'hashchange' });\n    }\n    prepareExternalUrl(url) {\n        if (url.length > 0 && !url.startsWith('/')) {\n            url = '/' + url;\n        }\n        return this._baseHref + url;\n    }\n    go(path, query = '', state = null) {\n        path = this.prepareExternalUrl(path);\n        this.pushHistory(path, query, state);\n        const locationState = this._history[this._historyIndex - 1];\n        if (locationState.path == path && locationState.query == query) {\n            return;\n        }\n        const url = path + (query.length > 0 ? ('?' + query) : '');\n        this.urlChanges.push(url);\n        this._notifyUrlChangeListeners(path + normalizeQueryParams(query), state);\n    }\n    replaceState(path, query = '', state = null) {\n        path = this.prepareExternalUrl(path);\n        const history = this._history[this._historyIndex];\n        if (history.path == path && history.query == query) {\n            return;\n        }\n        history.path = path;\n        history.query = query;\n        history.state = state;\n        const url = path + (query.length > 0 ? ('?' + query) : '');\n        this.urlChanges.push('replace: ' + url);\n        this._notifyUrlChangeListeners(path + normalizeQueryParams(query), state);\n    }\n    forward() {\n        if (this._historyIndex < (this._history.length - 1)) {\n            this._historyIndex++;\n            this._subject.emit({ 'url': this.path(), 'state': this.getState(), 'pop': true, 'type': 'popstate' });\n        }\n    }\n    back() {\n        if (this._historyIndex > 0) {\n            this._historyIndex--;\n            this._subject.emit({ 'url': this.path(), 'state': this.getState(), 'pop': true, 'type': 'popstate' });\n        }\n    }\n    historyGo(relativePosition = 0) {\n        const nextPageIndex = this._historyIndex + relativePosition;\n        if (nextPageIndex >= 0 && nextPageIndex < this._history.length) {\n            this._historyIndex = nextPageIndex;\n            this._subject.emit({ 'url': this.path(), 'state': this.getState(), 'pop': true, 'type': 'popstate' });\n        }\n    }\n    onUrlChange(fn) {\n        this._urlChangeListeners.push(fn);\n        if (!this._urlChangeSubscription) {\n            this._urlChangeSubscription = this.subscribe(v => {\n                this._notifyUrlChangeListeners(v.url, v.state);\n            });\n        }\n    }\n    /** @internal */\n    _notifyUrlChangeListeners(url = '', state) {\n        this._urlChangeListeners.forEach(fn => fn(url, state));\n    }\n    subscribe(onNext, onThrow, onReturn) {\n        return this._subject.subscribe({ next: onNext, error: onThrow, complete: onReturn });\n    }\n    normalize(url) {\n        return null;\n    }\n    pushHistory(path, query, state) {\n        if (this._historyIndex > 0) {\n            this._history.splice(this._historyIndex + 1);\n        }\n        this._history.push(new LocationState(path, query, state));\n        this._historyIndex = this._history.length - 1;\n    }\n}\nSpyLocation.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: SpyLocation, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nSpyLocation.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: SpyLocation });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: SpyLocation, decorators: [{\n            type: Injectable\n        }] });\nclass LocationState {\n    constructor(path, query, state) {\n        this.path = path;\n        this.query = query;\n        this.state = state;\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A mock implementation of {@link LocationStrategy} that allows tests to fire simulated\n * location events.\n *\n * @publicApi\n */\nclass MockLocationStrategy extends LocationStrategy {\n    constructor() {\n        super();\n        this.internalBaseHref = '/';\n        this.internalPath = '/';\n        this.internalTitle = '';\n        this.urlChanges = [];\n        /** @internal */\n        this._subject = new EventEmitter();\n        this.stateChanges = [];\n    }\n    simulatePopState(url) {\n        this.internalPath = url;\n        this._subject.emit(new _MockPopStateEvent(this.path()));\n    }\n    path(includeHash = false) {\n        return this.internalPath;\n    }\n    prepareExternalUrl(internal) {\n        if (internal.startsWith('/') && this.internalBaseHref.endsWith('/')) {\n            return this.internalBaseHref + internal.substring(1);\n        }\n        return this.internalBaseHref + internal;\n    }\n    pushState(ctx, title, path, query) {\n        // Add state change to changes array\n        this.stateChanges.push(ctx);\n        this.internalTitle = title;\n        const url = path + (query.length > 0 ? ('?' + query) : '');\n        this.internalPath = url;\n        const externalUrl = this.prepareExternalUrl(url);\n        this.urlChanges.push(externalUrl);\n    }\n    replaceState(ctx, title, path, query) {\n        // Reset the last index of stateChanges to the ctx (state) object\n        this.stateChanges[(this.stateChanges.length || 1) - 1] = ctx;\n        this.internalTitle = title;\n        const url = path + (query.length > 0 ? ('?' + query) : '');\n        this.internalPath = url;\n        const externalUrl = this.prepareExternalUrl(url);\n        this.urlChanges.push('replace: ' + externalUrl);\n    }\n    onPopState(fn) {\n        this._subject.subscribe({ next: fn });\n    }\n    getBaseHref() {\n        return this.internalBaseHref;\n    }\n    back() {\n        if (this.urlChanges.length > 0) {\n            this.urlChanges.pop();\n            this.stateChanges.pop();\n            const nextUrl = this.urlChanges.length > 0 ? this.urlChanges[this.urlChanges.length - 1] : '';\n            this.simulatePopState(nextUrl);\n        }\n    }\n    forward() {\n        throw 'not implemented';\n    }\n    getState() {\n        return this.stateChanges[(this.stateChanges.length || 1) - 1];\n    }\n}\nMockLocationStrategy.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: MockLocationStrategy, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nMockLocationStrategy.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: MockLocationStrategy });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: MockLocationStrategy, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return []; } });\nclass _MockPopStateEvent {\n    constructor(newUrl) {\n        this.newUrl = newUrl;\n        this.pop = true;\n        this.type = 'popstate';\n    }\n}\n\n/**\n * Parser from https://tools.ietf.org/html/rfc3986#appendix-B\n * ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n *  12            3  4          5       6  7        8 9\n *\n * Example: http://www.ics.uci.edu/pub/ietf/uri/#Related\n *\n * Results in:\n *\n * $1 = http:\n * $2 = http\n * $3 = //www.ics.uci.edu\n * $4 = www.ics.uci.edu\n * $5 = /pub/ietf/uri/\n * $6 = <undefined>\n * $7 = <undefined>\n * $8 = #Related\n * $9 = Related\n */\nconst urlParse = /^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\nfunction parseUrl(urlStr, baseHref) {\n    const verifyProtocol = /^((http[s]?|ftp):\\/\\/)/;\n    let serverBase;\n    // URL class requires full URL. If the URL string doesn't start with protocol, we need to add\n    // an arbitrary base URL which can be removed afterward.\n    if (!verifyProtocol.test(urlStr)) {\n        serverBase = 'http://empty.com/';\n    }\n    let parsedUrl;\n    try {\n        parsedUrl = new URL(urlStr, serverBase);\n    }\n    catch (e) {\n        const result = urlParse.exec(serverBase || '' + urlStr);\n        if (!result) {\n            throw new Error(`Invalid URL: ${urlStr} with base: ${baseHref}`);\n        }\n        const hostSplit = result[4].split(':');\n        parsedUrl = {\n            protocol: result[1],\n            hostname: hostSplit[0],\n            port: hostSplit[1] || '',\n            pathname: result[5],\n            search: result[6],\n            hash: result[8],\n        };\n    }\n    if (parsedUrl.pathname && parsedUrl.pathname.indexOf(baseHref) === 0) {\n        parsedUrl.pathname = parsedUrl.pathname.substring(baseHref.length);\n    }\n    return {\n        hostname: !serverBase && parsedUrl.hostname || '',\n        protocol: !serverBase && parsedUrl.protocol || '',\n        port: !serverBase && parsedUrl.port || '',\n        pathname: parsedUrl.pathname || '/',\n        search: parsedUrl.search || '',\n        hash: parsedUrl.hash || '',\n    };\n}\n/**\n * Provider for mock platform location config\n *\n * @publicApi\n */\nconst MOCK_PLATFORM_LOCATION_CONFIG = new InjectionToken('MOCK_PLATFORM_LOCATION_CONFIG');\n/**\n * Mock implementation of URL state.\n *\n * @publicApi\n */\nclass MockPlatformLocation {\n    constructor(config) {\n        this.baseHref = '';\n        this.hashUpdate = new Subject();\n        this.urlChangeIndex = 0;\n        this.urlChanges = [{ hostname: '', protocol: '', port: '', pathname: '/', search: '', hash: '', state: null }];\n        if (config) {\n            this.baseHref = config.appBaseHref || '';\n            const parsedChanges = this.parseChanges(null, config.startUrl || 'http://_empty_/', this.baseHref);\n            this.urlChanges[0] = Object.assign({}, parsedChanges);\n        }\n    }\n    get hostname() {\n        return this.urlChanges[this.urlChangeIndex].hostname;\n    }\n    get protocol() {\n        return this.urlChanges[this.urlChangeIndex].protocol;\n    }\n    get port() {\n        return this.urlChanges[this.urlChangeIndex].port;\n    }\n    get pathname() {\n        return this.urlChanges[this.urlChangeIndex].pathname;\n    }\n    get search() {\n        return this.urlChanges[this.urlChangeIndex].search;\n    }\n    get hash() {\n        return this.urlChanges[this.urlChangeIndex].hash;\n    }\n    get state() {\n        return this.urlChanges[this.urlChangeIndex].state;\n    }\n    getBaseHrefFromDOM() {\n        return this.baseHref;\n    }\n    onPopState(fn) {\n        // No-op: a state stack is not implemented, so\n        // no events will ever come.\n        return () => { };\n    }\n    onHashChange(fn) {\n        const subscription = this.hashUpdate.subscribe(fn);\n        return () => subscription.unsubscribe();\n    }\n    get href() {\n        let url = `${this.protocol}//${this.hostname}${this.port ? ':' + this.port : ''}`;\n        url += `${this.pathname === '/' ? '' : this.pathname}${this.search}${this.hash}`;\n        return url;\n    }\n    get url() {\n        return `${this.pathname}${this.search}${this.hash}`;\n    }\n    parseChanges(state, url, baseHref = '') {\n        // When the `history.state` value is stored, it is always copied.\n        state = JSON.parse(JSON.stringify(state));\n        return Object.assign(Object.assign({}, parseUrl(url, baseHref)), { state });\n    }\n    replaceState(state, title, newUrl) {\n        const { pathname, search, state: parsedState, hash } = this.parseChanges(state, newUrl);\n        this.urlChanges[this.urlChangeIndex] = Object.assign(Object.assign({}, this.urlChanges[this.urlChangeIndex]), { pathname, search, hash, state: parsedState });\n    }\n    pushState(state, title, newUrl) {\n        const { pathname, search, state: parsedState, hash } = this.parseChanges(state, newUrl);\n        if (this.urlChangeIndex > 0) {\n            this.urlChanges.splice(this.urlChangeIndex + 1);\n        }\n        this.urlChanges.push(Object.assign(Object.assign({}, this.urlChanges[this.urlChangeIndex]), { pathname, search, hash, state: parsedState }));\n        this.urlChangeIndex = this.urlChanges.length - 1;\n    }\n    forward() {\n        const oldUrl = this.url;\n        const oldHash = this.hash;\n        if (this.urlChangeIndex < this.urlChanges.length) {\n            this.urlChangeIndex++;\n        }\n        this.scheduleHashUpdate(oldHash, oldUrl);\n    }\n    back() {\n        const oldUrl = this.url;\n        const oldHash = this.hash;\n        if (this.urlChangeIndex > 0) {\n            this.urlChangeIndex--;\n        }\n        this.scheduleHashUpdate(oldHash, oldUrl);\n    }\n    historyGo(relativePosition = 0) {\n        const oldUrl = this.url;\n        const oldHash = this.hash;\n        const nextPageIndex = this.urlChangeIndex + relativePosition;\n        if (nextPageIndex >= 0 && nextPageIndex < this.urlChanges.length) {\n            this.urlChangeIndex = nextPageIndex;\n        }\n        this.scheduleHashUpdate(oldHash, oldUrl);\n    }\n    getState() {\n        return this.state;\n    }\n    scheduleHashUpdate(oldHash, oldUrl) {\n        if (oldHash !== this.hash) {\n            scheduleMicroTask(() => this.hashUpdate.next({ type: 'hashchange', state: null, oldUrl, newUrl: this.url }));\n        }\n    }\n}\nMockPlatformLocation.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: MockPlatformLocation, deps: [{ token: MOCK_PLATFORM_LOCATION_CONFIG, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nMockPlatformLocation.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: MockPlatformLocation });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: MockPlatformLocation, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [MOCK_PLATFORM_LOCATION_CONFIG]\n                    }, {\n                        type: Optional\n                    }] }];\n    } });\nfunction scheduleMicroTask(cb) {\n    Promise.resolve(null).then(cb);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MOCK_PLATFORM_LOCATION_CONFIG, MockLocationStrategy, MockPlatformLocation, SpyLocation };\n","/**\n * @license Angular v13.2.7\n * (c) 2010-2022 Google LLC. https://angular.io/\n * License: MIT\n */\n\nimport { Location, LocationStrategy } from '@angular/common';\nimport { SpyLocation, MockLocationStrategy } from '@angular/common/testing';\nimport * as i0 from '@angular/core';\nimport { Compiler, Injector, Optional, NgModule } from '@angular/core';\nimport { Router, ɵflatten, ɵassignExtraOptionsToRouter, provideRoutes, ROUTER_CONFIGURATION, RouterModule, ɵROUTER_PROVIDERS, UrlSerializer, ChildrenOutletContexts, ROUTES, UrlHandlingStrategy, RouteReuseStrategy, PreloadingStrategy, NoPreloading } from '@angular/router';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file exists to easily patch the SpyNgModuleFactoryLoader into g3\nconst EXTRA_ROUTER_TESTING_PROVIDERS = [];\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction isUrlHandlingStrategy(opts) {\n    // This property check is needed because UrlHandlingStrategy is an interface and doesn't exist at\n    // runtime.\n    return 'shouldProcessUrl' in opts;\n}\n/**\n * Router setup factory function used for testing.\n *\n * @publicApi\n */\nfunction setupTestingRouter(urlSerializer, contexts, location, compiler, injector, routes, opts, urlHandlingStrategy, routeReuseStrategy) {\n    const router = new Router(null, urlSerializer, contexts, location, injector, compiler, ɵflatten(routes));\n    if (opts) {\n        // Handle deprecated argument ordering.\n        if (isUrlHandlingStrategy(opts)) {\n            router.urlHandlingStrategy = opts;\n        }\n        else {\n            // Handle ExtraOptions\n            ɵassignExtraOptionsToRouter(opts, router);\n        }\n    }\n    if (urlHandlingStrategy) {\n        router.urlHandlingStrategy = urlHandlingStrategy;\n    }\n    if (routeReuseStrategy) {\n        router.routeReuseStrategy = routeReuseStrategy;\n    }\n    return router;\n}\n/**\n * @description\n *\n * Sets up the router to be used for testing.\n *\n * The modules sets up the router to be used for testing.\n * It provides spy implementations of `Location` and `LocationStrategy`.\n *\n * @usageNotes\n * ### Example\n *\n * ```\n * beforeEach(() => {\n *   TestBed.configureTestingModule({\n *     imports: [\n *       RouterTestingModule.withRoutes(\n *         [{path: '', component: BlankCmp}, {path: 'simple', component: SimpleCmp}]\n *       )\n *     ]\n *   });\n * });\n * ```\n *\n * @publicApi\n */\nclass RouterTestingModule {\n    static withRoutes(routes, config) {\n        return {\n            ngModule: RouterTestingModule,\n            providers: [\n                provideRoutes(routes),\n                { provide: ROUTER_CONFIGURATION, useValue: config ? config : {} },\n            ]\n        };\n    }\n}\nRouterTestingModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: RouterTestingModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRouterTestingModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: RouterTestingModule, exports: [RouterModule] });\nRouterTestingModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: RouterTestingModule, providers: [\n        ɵROUTER_PROVIDERS,\n        EXTRA_ROUTER_TESTING_PROVIDERS,\n        { provide: Location, useClass: SpyLocation },\n        { provide: LocationStrategy, useClass: MockLocationStrategy },\n        {\n            provide: Router,\n            useFactory: setupTestingRouter,\n            deps: [\n                UrlSerializer, ChildrenOutletContexts, Location, Compiler, Injector, ROUTES,\n                ROUTER_CONFIGURATION, [UrlHandlingStrategy, new Optional()],\n                [RouteReuseStrategy, new Optional()]\n            ]\n        },\n        { provide: PreloadingStrategy, useExisting: NoPreloading },\n        provideRoutes([]),\n    ], imports: [RouterModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.7\", ngImport: i0, type: RouterTestingModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    exports: [RouterModule],\n                    providers: [\n                        ɵROUTER_PROVIDERS,\n                        EXTRA_ROUTER_TESTING_PROVIDERS,\n                        { provide: Location, useClass: SpyLocation },\n                        { provide: LocationStrategy, useClass: MockLocationStrategy },\n                        {\n                            provide: Router,\n                            useFactory: setupTestingRouter,\n                            deps: [\n                                UrlSerializer, ChildrenOutletContexts, Location, Compiler, Injector, ROUTES,\n                                ROUTER_CONFIGURATION, [UrlHandlingStrategy, new Optional()],\n                                [RouteReuseStrategy, new Optional()]\n                            ]\n                        },\n                        { provide: PreloadingStrategy, useExisting: NoPreloading },\n                        provideRoutes([]),\n                    ]\n                }]\n        }] });\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file exists for easily patching SpyNgModuleFactoryLoader in g3\nvar spy_ng_module_factory_loader = {};\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { RouterTestingModule, setupTestingRouter };\n"],"names":["i0","EventEmitter","Injectable","InjectionToken","Inject","Optional","LocationStrategy","Subject","joinWithSlash","start","end","length","slashes","endsWith","startsWith","substring","stripTrailingSlash","url","match","pathEndIdx","index","droppedSlashIdx","slice","normalizeQueryParams","params","SpyLocation","constructor","urlChanges","_history","LocationState","_historyIndex","_subject","_baseHref","_platformStrategy","_platformLocation","_urlChangeListeners","setInitialPath","path","setBaseHref","getState","state","isCurrentPathEqualTo","query","givenPath","currPath","simulateUrlPop","pathname","emit","simulateHashChange","prepareExternalUrl","pushHistory","push","go","locationState","_notifyUrlChangeListeners","replaceState","history","forward","back","historyGo","relativePosition","nextPageIndex","onUrlChange","fn","_urlChangeSubscription","subscribe","v","forEach","onNext","onThrow","onReturn","next","error","complete","normalize","splice","ɵfac","ɵprov","type","MockLocationStrategy","internalBaseHref","internalPath","internalTitle","stateChanges","simulatePopState","_MockPopStateEvent","includeHash","internal","pushState","ctx","title","externalUrl","onPopState","getBaseHref","pop","nextUrl","newUrl","urlParse","parseUrl","urlStr","baseHref","verifyProtocol","serverBase","test","parsedUrl","URL","e","result","exec","Error","hostSplit","split","protocol","hostname","port","search","hash","indexOf","MOCK_PLATFORM_LOCATION_CONFIG","MockPlatformLocation","config","hashUpdate","urlChangeIndex","appBaseHref","parsedChanges","parseChanges","startUrl","Object","assign","getBaseHrefFromDOM","onHashChange","subscription","unsubscribe","href","JSON","parse","stringify","parsedState","oldUrl","oldHash","scheduleHashUpdate","scheduleMicroTask","undefined","decorators","args","cb","Promise","resolve","then","Location","Compiler","Injector","NgModule","Router","ɵflatten","ɵassignExtraOptionsToRouter","provideRoutes","ROUTER_CONFIGURATION","RouterModule","ɵROUTER_PROVIDERS","UrlSerializer","ChildrenOutletContexts","ROUTES","UrlHandlingStrategy","RouteReuseStrategy","PreloadingStrategy","NoPreloading","EXTRA_ROUTER_TESTING_PROVIDERS","isUrlHandlingStrategy","opts","setupTestingRouter","urlSerializer","contexts","location","compiler","injector","routes","urlHandlingStrategy","routeReuseStrategy","router","RouterTestingModule","withRoutes","ngModule","providers","provide","useValue","ɵmod","ɵinj","useClass","useFactory","deps","useExisting","exports","spy_ng_module_factory_loader"],"sourceRoot":"webpack:///"}