{"version":3,"file":"src_app_voter-registration_voter-registration_module_ts.js","mappings":"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","sources":["./src/app/voter-registration/voter-registration-routing.module.ts","./src/app/voter-registration/voter-registration.module.ts","./src/app/voter-registration/voter-registration.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { VoterRegistrationPage } from './voter-registration.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: VoterRegistrationPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class VoterRegistrationPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { VoterRegistrationPageRoutingModule } from './voter-registration-routing.module';\r\n\r\nimport { VoterRegistrationPage } from './voter-registration.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    VoterRegistrationPageRoutingModule\r\n  ],\r\n  declarations: [VoterRegistrationPage]\r\n})\r\nexport class VoterRegistrationPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BarcodeScanner,BarcodeScannerOptions } from '@ionic-native/barcode-scanner/ngx';\r\nimport { doc } from 'firebase/firestore';\r\nimport { DataService, Voter } from '../data.service';\r\nimport { ContractService } from '../services/contract.service';\r\n\r\n@Component({\r\n  selector: 'app-voter-registration',\r\n  templateUrl: './voter-registration.page.html',\r\n  styleUrls: ['./voter-registration.page.scss'],\r\n})\r\nexport class VoterRegistrationPage implements OnInit {\r\n  name: string;\r\n  surname: string;\r\n  gender: any;\r\n  idNum: string;\r\n  voterNames: any[];\r\n  voterSurnames: any[];\r\n  voterIDs: any[];\r\n  scannedData: any;\r\n  encodedData: '';\r\n  encodeData: any;\r\n  inputData: any;\r\n  voter: Voter;\r\n\r\n  constructor(private contractService : ContractService, private router: Router, private barcodeScanner: BarcodeScanner, private dataservice: DataService) { }\r\n\r\n  ngOnInit() {\r\n    this.voterIDs = [];\r\n    this.voterNames = [];\r\n    this.voterSurnames = [];\r\n  }\r\n\r\n  async registerVoter() {\r\n\r\n    // const first = this.voterIDs.find((obj) => obj === nVoter.id);\r\n    // if (first != null) {\r\n    //   alert('The entered ID is already registered with a voter.');\r\n    //   return;\r\n    // }\r\n    // this.voterNames.push(nVoter.name);\r\n    // this.voterSurnames.push(nVoter.surname);\r\n    // this.voterIDs.push(nVoter.id);\r\n    // alert(this.voter)\r\n    try {\r\n      await this.dataservice.addvoter(this.voter)\r\n      .then(() =>  {\r\n        this.contractService.addVoter(this.dataservice.contractAddress, this.voter)\r\n      }).catch((error)  =>  {\r\n        console.error(error)\r\n      })\r\n    } catch (err) {\r\n      alert(err);\r\n    }\r\n    this.name = '';\r\n    this.surname = '';\r\n    this.idNum = '';\r\n    this.gender = '';\r\n    alert('Successfully registered!');\r\n  }\r\n\r\n  openCustom() {\r\n    this.router.navigate(['admin-dashboard']);\r\n  }\r\n\r\n  scanBarcode() {\r\n    const options: BarcodeScannerOptions = {\r\n      preferFrontCamera: false,\r\n      showFlipCameraButton: true,\r\n      showTorchButton: true,\r\n      torchOn: false,\r\n      prompt: 'Place a barcode inside the scan area',\r\n      resultDisplayDuration: 500,\r\n      formats: 'PDF_417',\r\n      orientation: 'landscape',\r\n    };\r\n\r\n    this.barcodeScanner.scan(options).then(barcodeData => {\r\n      this.scannedData = barcodeData;\r\n      this.inputData = this.scannedData[\"text\"];\r\n\r\n      var splitted = this.inputData.split(\"|\");\r\n      this.surname = splitted[0];\r\n      this.name = splitted[1];\r\n      this.gender = splitted[2];\r\n      this.idNum = splitted[4]\r\n\r\n      this.voter = this.dataservice.createVoter(this.name, this.surname, this.idNum, this.gender);\r\n\r\n      // alert(this.voter.birthName)\r\n\r\n      document.getElementById(\"regnowbutton\").style.display = \"block\";\r\n\r\n      // this.voterNames.push(this.name);\r\n      // this.voterSurnames.push(this.surname);\r\n      // this.voterIDs.push(this.idNum);\r\n\r\n    }).catch(err => {\r\n      console.log('Error', err);\r\n    });\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}